<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êó•Ë™ûÊâìÂ≠óÈÅäÊà≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f8ff;
            margin: 0;
            flex-direction: column;
        }
        #game-container {
            text-align: center;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        #character {
            font-size: 5rem;
            margin-bottom: 20px;
        }
        #input-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        input[type="text"] {
            font-size: 1.5rem;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 5px;
            width: 150px;
            text-align: center;
        }
        button {
            display: none;
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1rem;
            border: none;
            background-color: #4CAF50;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #result {
            font-size: 1.5rem;
            margin-top: 20px;
        }
        #timer {
            position: absolute;
            top: 0.25rem;
            right: 0.25rem;
            font-size: 1.5rem;
        }
        #counter {
            position: absolute;
            top: 0.25rem;
            font-size: 1.5rem;
        }
        #toggle {
            display: none;
        }
        #toggle + label {
            position: absolute;
            z-index: 1;
            top: 0.25rem;
            left: 0.25rem;
            cursor: pointer;
            font-size: 2.5rem;
        }
        #toggle + label::before {
            content: "üìÅ";
        }
        #toggle:checked + label::before {
            content: "üìÇ";
        }
        #toggle:checked ~ #list-container {
            width: 100px;
        }
        #list-container {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            width: 0;
            transition: all 0.5s;
            background: #0000004d;
            overflow-x: hidden;
            padding-top: 3rem;
        }
        #list-container > p {
            width: 100px;
            padding-left: 1rem;
        }
    </style>
</head>
<body>

<div id="timer">00:00</div>
<div id="counter">0</div>
<input id="toggle" type="checkbox">
<label for="toggle"></label>
<div id="list-container"></div>
<div id="game-container">
    <div id="character">„ÅÇ</div>
    <div id="input-container">
        <input type="text" id="input" placeholder="ÁæÖÈ¶¨ÊãºÈü≥" autofocus>
    </div>
    <div id="result"></div>
    <button id="next-button">‰∏ã‰∏ÄÈ°å</button>
</div>

<script>
    const characters = [
        { char: "„ÅÇ", romaji: "a" }, { char: "„ÅÑ", romaji: "i" }, { char: "„ÅÜ", romaji: "u" }, { char: "„Åà", romaji: "e" }, { char: "„Åä", romaji: "o" },
        { char: "„Åã", romaji: "ka" }, { char: "„Åç", romaji: "ki" }, { char: "„Åè", romaji: "ku" }, { char: "„Åë", romaji: "ke" }, { char: "„Åì", romaji: "ko" },
        { char: "„Åï", romaji: "sa" }, { char: "„Åó", romaji: "shi" }, { char: "„Åô", romaji: "su" }, { char: "„Åõ", romaji: "se" }, { char: "„Åù", romaji: "so" },
        { char: "„Åü", romaji: "ta" }, { char: "„Å°", romaji: "chi" }, { char: "„Å§", romaji: "tsu" }, { char: "„Å¶", romaji: "te" }, { char: "„Å®", romaji: "to" },
        { char: "„Å™", romaji: "na" }, { char: "„Å´", romaji: "ni" }, { char: "„Å¨", romaji: "nu" }, { char: "„Å≠", romaji: "ne" }, { char: "„ÅÆ", romaji: "no" },
        { char: "„ÅØ", romaji: "ha" }, { char: "„Å≤", romaji: "hi" }, { char: "„Åµ", romaji: "fu" }, { char: "„Å∏", romaji: "he" }, { char: "„Åª", romaji: "ho" },
        { char: "„Åæ", romaji: "ma" }, { char: "„Åø", romaji: "mi" }, { char: "„ÇÄ", romaji: "mu" }, { char: "„ÇÅ", romaji: "me" }, { char: "„ÇÇ", romaji: "mo" },
        { char: "„ÇÑ", romaji: "ya" }, { char: "„ÇÜ", romaji: "yu" }, { char: "„Çà", romaji: "yo" },
        { char: "„Çâ", romaji: "ra" }, { char: "„Çä", romaji: "ri" }, { char: "„Çã", romaji: "ru" }, { char: "„Çå", romaji: "re" }, { char: "„Çç", romaji: "ro" },
        { char: "„Çè", romaji: "wa" }, { char: "„Çí", romaji: "wo" }, { char: "„Çì", romaji: "n" },
        { char: "„Åå", romaji: "ga" }, { char: "„Åé", romaji: "gi" }, { char: "„Åê", romaji: "gu" }, { char: "„Åí", romaji: "ge" }, { char: "„Åî", romaji: "go" },
        { char: "„Åñ", romaji: "za" }, { char: "„Åò", romaji: "ji" }, { char: "„Åö", romaji: "zu" }, { char: "„Åú", romaji: "ze" }, { char: "„Åû", romaji: "zo" },
        { char: "„Å†", romaji: "da" }, { char: "„Å¢", romaji: "ji" }, { char: "„Å•", romaji: "zu" }, { char: "„Åß", romaji: "de" }, { char: "„Å©", romaji: "do" },
        { char: "„Å∞", romaji: "ba" }, { char: "„Å≥", romaji: "bi" }, { char: "„Å∂", romaji: "bu" }, { char: "„Åπ", romaji: "be" }, { char: "„Åº", romaji: "bo" },
        { char: "„Å±", romaji: "pa" }, { char: "„Å¥", romaji: "pi" }, { char: "„Å∑", romaji: "pu" }, { char: "„Å∫", romaji: "pe" }, { char: "„ÅΩ", romaji: "po" },
        { char: "„Åç„ÇÉ", romaji: "kya" }, { char: "„Åç„ÇÖ", romaji: "kyu" }, { char: "„Åç„Çá", romaji: "kyo" },
        { char: "„Åó„ÇÉ", romaji: "sha" }, { char: "„Åó„ÇÖ", romaji: "shu" }, { char: "„Åó„Çá", romaji: "sho" },
        { char: "„Å°„ÇÉ", romaji: "cha" }, { char: "„Å°„ÇÖ", romaji: "chu" }, { char: "„Å°„Çá", romaji: "cho" },
        { char: "„Å´„ÇÉ", romaji: "nya" }, { char: "„Å´„ÇÖ", romaji: "nyu" }, { char: "„Å´„Çá", romaji: "nyo" },
        { char: "„Å≤„ÇÉ", romaji: "hya" }, { char: "„Å≤„ÇÖ", romaji: "hyu" }, { char: "„Å≤„Çá", romaji: "hyo" },
        { char: "„Åø„ÇÉ", romaji: "mya" }, { char: "„Åø„ÇÖ", romaji: "myu" }, { char: "„Åø„Çá", romaji: "myo" },
        { char: "„Çä„ÇÉ", romaji: "rya" }, { char: "„Çä„ÇÖ", romaji: "ryu" }, { char: "„Çä„Çá", romaji: "ryo" },
        { char: "„Åé„ÇÉ", romaji: "gya" }, { char: "„Åé„ÇÖ", romaji: "gyu" }, { char: "„Åé„Çá", romaji: "gyo" },
        { char: "„Åò„ÇÉ", romaji: "ja" }, { char: "„Åò„ÇÖ", romaji: "ju" }, { char: "„Åò„Çá", romaji: "jo" },
        { char: "„Å≥„ÇÉ", romaji: "bya" }, { char: "„Å≥„ÇÖ", romaji: "byu" }, { char: "„Å≥„Çá", romaji: "byo" },
        { char: "„Å¥„ÇÉ", romaji: "pya" }, { char: "„Å¥„ÇÖ", romaji: "pyu" }, { char: "„Å¥„Çá", romaji: "pyo" },
        { char: "„Ç¢", romaji: "a" }, { char: "„Ç§", romaji: "i" }, { char: "„Ç¶", romaji: "u" }, { char: "„Ç®", romaji: "e" }, { char: "„Ç™", romaji: "o" },
        { char: "„Ç´", romaji: "ka" }, { char: "„Ç≠", romaji: "ki" }, { char: "„ÇØ", romaji: "ku" }, { char: "„Ç±", romaji: "ke" }, { char: "„Ç≥", romaji: "ko" },
        { char: "„Çµ", romaji: "sa" }, { char: "„Ç∑", romaji: "shi" }, { char: "„Çπ", romaji: "su" }, { char: "„Çª", romaji: "se" }, { char: "„ÇΩ", romaji: "so" },
        { char: "„Çø", romaji: "ta" }, { char: "„ÉÅ", romaji: "chi" }, { char: "„ÉÑ", romaji: "tsu" }, { char: "„ÉÜ", romaji: "te" }, { char: "„Éà", romaji: "to" },
        { char: "„Éä", romaji: "na" }, { char: "„Éã", romaji: "ni" }, { char: "„Éå", romaji: "nu" }, { char: "„Éç", romaji: "ne" }, { char: "„Éé", romaji: "no" },
        { char: "„Éè", romaji: "ha" }, { char: "„Éí", romaji: "hi" }, { char: "„Éï", romaji: "fu" }, { char: "„Éò", romaji: "he" }, { char: "„Éõ", romaji: "ho" },
        { char: "„Éû", romaji: "ma" }, { char: "„Éü", romaji: "mi" }, { char: "„É†", romaji: "mu" }, { char: "„É°", romaji: "me" }, { char: "„É¢", romaji: "mo" },
        { char: "„É§", romaji: "ya" }, { char: "„É¶", romaji: "yu" }, { char: "„É®", romaji: "yo" },
        { char: "„É©", romaji: "ra" }, { char: "„É™", romaji: "ri" }, { char: "„É´", romaji: "ru" }, { char: "„É¨", romaji: "re" }, { char: "„É≠", romaji: "ro" },
        { char: "„ÉØ", romaji: "wa" }, { char: "„É≤", romaji: "wo" }, { char: "„É≥", romaji: "n" },
        { char: "„Ç¨", romaji: "ga" }, { char: "„ÇÆ", romaji: "gi" }, { char: "„Ç∞", romaji: "gu" }, { char: "„Ç≤", romaji: "ge" }, { char: "„Ç¥", romaji: "go" },
        { char: "„Ç∂", romaji: "za" }, { char: "„Ç∏", romaji: "ji" }, { char: "„Ç∫", romaji: "zu" }, { char: "„Çº", romaji: "ze" }, { char: "„Çæ", romaji: "zo" },
        { char: "„ÉÄ", romaji: "da" }, { char: "„ÉÇ", romaji: "ji" }, { char: "„ÉÖ", romaji: "zu" }, { char: "„Éá", romaji: "de" }, { char: "„Éâ", romaji: "do" },
        { char: "„Éê", romaji: "ba" }, { char: "„Éì", romaji: "bi" }, { char: "„Éñ", romaji: "bu" }, { char: "„Éô", romaji: "be" }, { char: "„Éú", romaji: "bo" },
        { char: "„Éë", romaji: "pa" }, { char: "„Éî", romaji: "pi" }, { char: "„Éó", romaji: "pu" }, { char: "„Éö", romaji: "pe" }, { char: "„Éù", romaji: "po" },
        { char: "„Ç≠„É£", romaji: "kya" }, { char: "„Ç≠„É•", romaji: "kyu" }, { char: "„Ç≠„Éß", romaji: "kyo" },
        { char: "„Ç∑„É£", romaji: "sha" }, { char: "„Ç∑„É•", romaji: "shu" }, { char: "„Ç∑„Éß", romaji: "sho" },
        { char: "„ÉÅ„É£", romaji: "cha" }, { char: "„ÉÅ„É•", romaji: "chu" }, { char: "„ÉÅ„Éß", romaji: "cho" },
        { char: "„Éã„É£", romaji: "nya" }, { char: "„Éã„É•", romaji: "nyu" }, { char: "„Éã„Éß", romaji: "nyo" },
        { char: "„Éí„É£", romaji: "hya" }, { char: "„Éí„É•", romaji: "hyu" }, { char: "„Éí„Éß", romaji: "hyo" },
        { char: "„Éü„É£", romaji: "mya" }, { char: "„Éü„É•", romaji: "myu" }, { char: "„Éü„Éß", romaji: "myo" },
        { char: "„É™„É£", romaji: "rya" }, { char: "„É™„É•", romaji: "ryu" }, { char: "„É™„Éß", romaji: "ryo" },
        { char: "„ÇÆ„É£", romaji: "gya" }, { char: "„ÇÆ„É•", romaji: "gyu" }, { char: "„ÇÆ„Éß", romaji: "gyo" },
        { char: "„Ç∏„É£", romaji: "ja" }, { char: "„Ç∏„É•", romaji: "ju" }, { char: "„Ç∏„Éß", romaji: "jo" },
        { char: "„Éì„É£", romaji: "bya" }, { char: "„Éì„É•", romaji: "byu" }, { char: "„Éì„Éß", romaji: "byo" },
        { char: "„Éî„É£", romaji: "pya" }, { char: "„Éî„É•", romaji: "pyu" }, { char: "„Éî„Éß", romaji: "pyo" }
    ];
    const wrongList = [];

    let currentCharacterIndex;
    let timeValue = 0;
    let stopTiming = false;
    const zero = document.timeline.currentTime;

    const characterElement = document.getElementById('character');
    const counterElement = document.getElementById('counter');
    const inputElement = document.getElementById('input');
    const resultElement = document.getElementById('result');
    const nextButton = document.getElementById('next-button');
    const timerElement = document.getElementById('timer');
    const listContainerElement = document.getElementById('list-container')

    function timing(timeStamp) {
        const second = Math.floor((timeStamp - zero) / 1000);
        if (timeValue !== second) {
            timeValue = second;
            const minutes = Math.floor(timeValue / 60).toString().padStart(2, '0');
            const seconds = (timeValue % 60).toString().padStart(2, '0');
            timerElement.textContent = `${minutes}:${seconds}`;
        }
        if (!stopTiming) {
            requestAnimationFrame(timing);
        }
    }

    function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function showNextCharacter() {
        updateCounter();
        if (characters.length) {
            currentCharacterIndex = getRandomInt(0, characters.length - 1)
            const currentCharacter = characters[currentCharacterIndex];
            characterElement.textContent = currentCharacter.char;
            inputElement.value = '';
            resultElement.textContent = '';
            inputElement.style.display = 'inline-block';
            nextButton.style.display = 'none';
        } else {
            endGame();
        }
    }

    function updateCounter() {
        counterElement.textContent = characters.length;
    }

    function endGame() {
        stopTiming = true;
        resultElement.textContent = `ÊÅ≠Âñú‰Ω†Áî®‰∫Ü${timerElement.textContent}ÂÆåÊàêÈÅäÊà≤`;
        characterElement.textContent = 'üéä';
        inputElement.style.display = 'none';
    }

    function appendToWrongList(character) {
        const s = new Set(wrongList);
        if (!s.has(character)) {
            wrongList.push(character);
            const p = document.createElement('p');
            p.textContent = `${character.char} - ${character.romaji}`;
            listContainerElement.appendChild(p);
        }
    }

    function checkAnswer() {
        const currentCharacter = characters[currentCharacterIndex];
        if (inputElement.value.trim().toLowerCase() === currentCharacter.romaji) {
            characters.splice(currentCharacterIndex, 1);
            showNextCharacter();
        } else {
            appendToWrongList(currentCharacter);
            characters.push(currentCharacter);
            resultElement.textContent = `Ê≠£Á¢∫Á≠îÊ°àÊòØ: ${currentCharacter.romaji}`;
            inputElement.style.display = 'none';
            nextButton.style.display = 'block';
        }
    }

    inputElement.addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
            checkAnswer();
        }
    });

    nextButton.addEventListener('click', showNextCharacter);

    updateCounter();
    requestAnimationFrame(timing);
    showNextCharacter();
</script>

</body>
</html>
